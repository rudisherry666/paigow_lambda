// Generic utilities

// Source: http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/
// This is the same as the default java string hash mechanism.
function hashCode(s) {
  var hash = 0, i, chr, len;
  if (s.length === 0) return hash;
  for (i = 0, len = s.length; i < len; i++) {
    chr   = s.charCodeAt(i);
    hash  = ((hash << 5) - hash) + chr;
    hash |= 0; // Convert to 32bit integer
  }
  return hash;
}

function newRandomID() {
    // Random number in base-36, uses numbers and all lower-case letters.
    var num1 = Math.random().toString(36),
        num2 = Math.random().toString(36),
        str = "" + num1 + num2;

    // Get rid of all but the letters.
    return str.replace(/[^a-z]+/g, '');
}


module.exports = {
    hashCode: hashCode,
    newRandomID: newRandomID,
};

